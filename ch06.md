# ch06

---

Converted from PowerPoint presentation: `ch06.pptx`

---

Total slides: 22

---



---

<details>
<summary><strong>üìã Table of Contents</strong> (Click to expand)</summary>

## Table of Contents

1. [Slide 1: More Built-in Container Classes](#slide-1)
2. [Slide 2: User-defined indexes and dictionaries](#slide-2)
3. [Slide 3: Properties of dictionaries](#slide-3)
4. [Slide 4: Dictionary operators](#slide-4)
5. [Slide 5: Dictionary methods](#slide-5)
6. [Slide 6: Dictionary vs. multi-way if statement](#slide-6)
7. [Slide 7: Dictionary as a container of counters](#slide-7)
8. [Slide 8: ‚åÉ](#slide-8)
9. [Slide 9: Exercise](#slide-9)
10. [Slide 10: Exercise](#slide-10)
11. [Slide 11: Character encodings](#slide-11)
12. [Slide 12: ASCII](#slide-12)
13. [Slide 13: Built-in functions ord() and char()](#slide-13)
14. [Slide 14: Beyond ASCII](#slide-14)
15. [Slide 15: Unicode](#slide-15)
16. [Slide 16: String comparison, revisited](#slide-16)
17. [Slide 17: Unicode Transformation Format (UTF)](#slide-17)
18. [Slide 18: Assigning an encoding to ‚Äúraw bytes‚Äù](#slide-18)
19. [Slide 19: Randomness](#slide-19)
20. [Slide 20: Standard Library module random](#slide-20)
21. [Slide 21: Standard Library module random](#slide-21)
22. [Slide 22: Exercise](#slide-22)

</details>


---

<a id="slide-1"></a>

## Slide 1

Introduction to Computing Using Python

More Built-in Container Classes

- Container Class dict
- Encoding of String Characters
- Randomness and Random Sampling

---

<a id="slide-2"></a>

## Slide 2

```python
employee = {
# Output: '864-20-9753': ['Anna', 'Karenina'],
# Output: '987-65-4321': ['Yu', 'Tsun'],
# Output: '100-01-0010': ['Hans', 'Castorp']}
```

```python
employee = {
# Output: '864-20-9753': ['Anna', 'Karenina'],
# Output: '987-65-4321': ['Yu', 'Tsun'],
# Output: '100-01-0010': ['Hans', 'Castorp']}
employee['987-65-4321']
# Output: ['Yu', 'Tsun']
employee['864-20-9753']
# Output: ['Anna', 'Karenina']
```

Introduction to Computing Using Python

User-defined indexes and dictionaries

```python
employee[987654321]
# Output: ['Yu', 'Tsun']
employee[864209753]
# Output: ['Anna', 'Karenina']
employee[100010010]
# Output: ['Hans', 'Castorp']
```

Goal: a container of employee records indexed by employee SS#

- Problems:
  - the range of SS#s is huge
  - SS#s are not really integers

Solution: the dictionary class dict

- A dictionary contains
- (key, value) pairs


| key | value |
| --- | --- |
| '864-20-9753' | ['Anna', 'Karenina'] |
| '987-65-4321' | ['Yu', 'Tsun'] |
| '100-01-0010' | ['Hans', 'Castorp'] |


A key can be used as an index to access the corresponding value

---

<a id="slide-3"></a>

## Slide 3

```python
employee = {
# Output: '864-20-9753': ['Anna', 'Karenina'],
# Output: '987-65-4321': ['Yu', 'Tsun'],
# Output: '100-01-0010': ['Hans', 'Castorp']}
employee
employee['123-45-6789'] = 'Holden Cafield'
employee
```

```python
employee = {
# Output: '864-20-9753': ['Anna', 'Karenina'],
# Output: '987-65-4321': ['Yu', 'Tsun'],
# Output: '100-01-0010': ['Hans', 'Castorp']}
employee
employee['123-45-6789'] = 'Holden Cafield'
employee
employee['123-45-6789'] = 'Holden Caulfield'
employee
```

```python
employee = {
# Output: '864-20-9753': ['Anna', 'Karenina'],
# Output: '987-65-4321': ['Yu', 'Tsun'],
# Output: '100-01-0010': ['Hans', 'Castorp']}
employee
```

```python
employee = {[1,2]:1, [2,3]:3}
# Output: Traceback (most recent call last):
```

- File "<pyshell#2>", line 1, in <module>
- employee = {[1,2]:1, [2,3]:3}
- TypeError: unhashable type: 'list'

Introduction to Computing Using Python

Properties of dictionaries

Dictionaries are not ordered

- Dictionaries are mutable

- Dictionaries are mutable
  - new (key,value) pairs can be added

- Dictionaries are mutable
  - new (key,value) pairs can be added
  - the value corresponding to a key can be modified

The empty dictionary is  {}

Dictionary keys must be immutable

---

<a id="slide-4"></a>

## Slide 4

Introduction to Computing Using Python

Dictionary operators

```python
days = {'Mo':1, 'Tu':2, 'W':3}
days['Mo']
# Output: 1
days['Th'] = 5
days
# Output: {'Mo': 1, 'Tu': 2, 'Th': 5, 'W': 3}
days['Th'] = 4
days
# Output: {'Mo': 1, 'Tu': 2, 'Th': 4, 'W': 3}
'Fr' in days
# Output: False
len(days)
# Output: 4
```

Class dict supports some of the same operators as class list

- Class dict does not support all the operators that class list supports
  - + and * for example

---

<a id="slide-5"></a>

## Slide 5

```python
days
# Output: {'Mo': 1, 'Tu': 2, 'Th': 4, 'W': 3}
days.pop('Tu')
# Output: 2
days
# Output: {'Mo': 1, 'Th': 4, 'W': 3}
days2 = {'Tu':2, 'Fr':5}
days.update(days2)
days
# Output: {'Fr': 5, 'W': 3, 'Th': 4, 'Mo': 1, 'Tu': 2}
days.items()
# Output: dict_items([('Fr', 5), ('W', 3), ('Th', 4), ('Mo', 1), ('Tu', 2)])
days.keys()
# Output: dict_keys(['Fr', 'W', 'Th', 'Mo', 'Tu'])
>>> vals = days.values()
vals
# Output: dict_values([5, 3, 4, 1, 2])
for val in vals:
# Output: print(val, end=' ')
```

- 5 3 4 1 2

Introduction to Computing Using Python

Dictionary methods

```python
days
# Output: {'Mo': 1, 'Tu': 2, 'Th': 4, 'W': 3}
days.pop('Tu')
# Output: 2
days
# Output: {'Mo': 1, 'Th': 4, 'W': 3}
days2 = {'Tu':2, 'Fr':5}
days.update(days2)
days
# Output: {'Fr': 5, 'W': 3, 'Th': 4, 'Mo': 1, 'Tu': 2}
days.items()
# Output: dict_items([('Fr', 5), ('W', 3), ('Th', 4), ('Mo', 1), ('Tu', 2)])
days.keys()
# Output: dict_keys(['Fr', 'W', 'Th', 'Mo', 'Tu'])
>>> vals = days.values()
vals
# Output: dict_values([5, 3, 4, 1, 2])
```


| Operation | Explanation |
| --- | --- |
| d.items() | Returns a view of the (key, value) pairs in d |
| d.keys() | Returns a view of the keys of d |
| d.pop(key) | Removes the (key, value) pair with key key from d and returns the value |
| d.update(d2) | Adds the (key, value) pairs of dictionary d2 to d |
| d.values() | Returns a view of the values of d |


The containers returned by d.items(), d.keys(), and d.values() (called views) can be iterated over

---

<a id="slide-6"></a>

## Slide 6

Introduction to Computing Using Python

Dictionary vs. multi-way if statement

- Uses of a dictionary:
  - container with custom indexes

- def complete(abbreviation):
- 'returns day of the week corresponding to abbreviation'
- if abbreviation == 'Mo':
- return 'Monday'
- elif abbreviation == 'Tu':
- return 'Tuesday'
- elif
- ......
- else: # abbreviation must be Su
- return 'Sunday'

- def complete(abbreviation):
- 'returns day of the week corresponding to abbreviation'
- days = {'Mo': 'Monday', 'Tu':'Tuesday', 'We': 'Wednesday',
- 'Th': 'Thursday', 'Fr': 'Friday', 'Sa': 'Saturday',
- 'Su':'Sunday'}
- return days[abbreviation]

- Uses of a dictionary:
  - container with custom indexes
  - alternative to the multi-way if statement

---

<a id="slide-7"></a>

## Slide 7

Introduction to Computing Using Python

Dictionary as a container of counters

```python
grades = [95, 96, 100, 85, 95, 90, 95, 100, 100]
frequency(grades)
# Output: {96: 1, 90: 1, 100: 3, 85: 1, 95: 3}
```

Problem: computing the number of occurrences of items in a list

Solution:  Iterate through the list and, for each grade, increment the counter corresponding to the grade.

- Problems:
  - impossible to create counters before seeing what‚Äôs in the list
  - how to store grade counters so a counter is accessible using the corresponding grade

Solution: a dictionary mapping a grade (the key) to its counter (the value)

- Uses of a dictionary:
  - container with custom indexes
  - alternative to the multi-way if statement
  - container of counters

---

<a id="slide-8"></a>

## Slide 8

- def frequency(itemList):
- 'returns frequency of items in itemList'
- counters = {}

- def frequency(itemList):
- 'returns frequency of items in itemList'
- counters = {}
- for item in itemList:
- if item in counters: # increment item counter
- counters[item] += 1
- else: # create item counter
- counters[item] = 1
- return counters

```python
grades = [95, 96, 100, 85, 95, 90, 95, 100, 100]
```

‚åÉ

‚åÉ

‚åÉ

‚åÉ

‚åÉ

‚åÉ

‚åÉ

Introduction to Computing Using Python

Dictionary as a container of counters

Problem: computing the number of occurrences of items in a list


| 95 |
| --- |
| 1 |


counters


| 96 |
| --- |
| 1 |



| 100 |
| --- |
| 1 |



| 85 |
| --- |
| 1 |



| 90 |
| --- |
| 1 |



| 95 |
| --- |
| 2 |



| 95 |
| --- |
| 3 |


---

<a id="slide-9"></a>

## Slide 9

Introduction to Computing Using Python

Exercise

- def numChars(filename):
- 'returns the number of characters in file filename'
- infile = open(filename, 'r')
- content = infile.read()
- infile.close()
- return len(content)

Implement function wordcount() that takes as input a text‚Äîas a string‚Äî and prints the frequency of each word in the text; assume there is no punctuation in the text.

- def wordCount(text):
- 'prints frequency of each word in text'
- wordList = text.split()  # split text into list of words
- counters ={}             # dictionary of counters
- for word in wordList:
- if word in counters: # counter for word exists
- counters[word] += 1
- else:                # counter for word doesn't exist
- counters[word] = 1
- for word in counters:    # print word counts
- if counters[word] == 1:
- print('{:8} appears {} time.'.format(word, counters[word]))
- else:
- print('{:8} appears {} times.'.format(word, counters[word]))

```python
text = 'all animals are equal but some animals are more equal than other'
wordCount(text)
# Output: all      appears 1 time.
```

- animals  appears 2 times.
- some     appears 1 time.
- equal    appears 2 times.
- but      appears 1 time.
- other    appears 1 time.
- are      appears 2 times.
- than     appears 1 time.
- more     appears 1 time.

---

<a id="slide-10"></a>

## Slide 10

Introduction to Computing Using Python

Exercise

- Implement function lookup() that implements a phone book lookup application. Your function takes, as input, a dictionary representing a phone book,
- mappingtuples (containing the
- first and last name) to strings
- (containing phone numbers)

- def lookup(phonebook):
- '''implements interactive phone book service using the input
- phonebook dictionary'''
- while True:
- first = input('Enter the first name: ')
- last = input('Enter the last name: ')
- person = (first, last)    # construct the key
- if person in phonebook:   # if key is in dictionary
- print(phonebook[person])  # print value
- else:                     # if key not in dictionary
- print('The name you entered is not known.')

```python
phonebook = {
# Output: ('Anna','Karenina'):'(123)456-78-90',
```

- ('Yu', 'Tsun'):'(901)234-56-78',
- ('Hans', 'Castorp'):'(321)908-76-54'}
```python
lookup(phonebook)
# Output: Enter the first name: Anna
```

- Enter the last name: Karenina
- (123)456-78-90
- Enter the first name:

---

<a id="slide-11"></a>

## Slide 11

Introduction to Computing Using Python

Character encodings

- A string (str) object contains an ordered sequence of characters which can be any of the following:
  - lowercase and uppercase letters in the English alphabet:         a b c ‚Ä¶ z and A B C ‚Ä¶ Z
  - decimal digits: 0 1 2 3 4 5 6 7 8 9
  - punctuation: , . : ; ‚Äò ‚Äú ! ? etc.
  - Mathematical operators and common symbols: = < > + - / * $ # % @ & etc.
  - More later

- Each character is mapped to a specific bit encoding,
- and this encoding maps back to the character.

For many years, the standard encoding for characters in the English language was the American Standard Code for Information Interchange (ASCII)

---

<a id="slide-12"></a>

## Slide 12

Introduction to Computing Using Python

ASCII

For many years, the standard encoding for characters in the English language was the American Standard Code for Information Interchange (ASCII)

*[Image present]*

The code for a is 97, which is 01100001 in binary or 0x61 in hexadecimal notation

The encoding for each ASCII character fits in 1 byte (8 bits)

---

<a id="slide-13"></a>

## Slide 13

```python
ord('a')
# Output: 97
ord('?')
# Output: 63
ord('\n')
# Output: 10
```

```python
ord('a')
# Output: 97
ord('?')
# Output: 63
ord('\n')
# Output: 10
chr(10)
# Output: '\n'
chr(63)
# Output: '?'
chr(97)
# Output: 'a'
```

Introduction to Computing Using Python

Built-in functions ord() and char()

Function ord() takes a character (i.e., a string of length 1) as input and returns its ASCII code

Function chr() takes an ASCII encoding (i.e., a non-negative integer) and returns the corresponding character

---

<a id="slide-14"></a>

## Slide 14

Introduction to Computing Using Python

Beyond ASCII

- A string object contains an ordered sequence of characters which can be any of the following:
  - lowercase and uppercase letters in the English alphabet:         a b c ‚Ä¶ z and A B C ‚Ä¶ Z
  - decimal digits: 0 1 2 3 4 5 6 7 8 9
  - punctuation: , . : ; ‚Äò ‚Äú ! ? etc.
  - Mathematical operators and common symbols: = < > + - / * $ # % @ & etc.
  - Characters from languages other than English
  - Technical symbols from math, science, engineering, etc.

There are only 128 characters in the ASCII encoding

Unicode has been developed to be the universal character encoding scheme

---

<a id="slide-15"></a>

## Slide 15

```python
'\u0061'
# Output: 'a'
```

```python
'\u0061'
# Output: 'a'
'\u0064\u0061d'
# Output: 'dad'
```

```python
'\u0061'
# Output: 'a'
'\u0064\u0061d'
# Output: 'dad'
'\u0409\u0443\u0431\u043e\u043c\u0438\u0440'
# Output: '–â—É–±–æ–º–∏—Ä'
```

```python
'\u0061'
# Output: 'a'
'\u0064\u0061d'
# Output: 'dad'
'\u0409\u0443\u0431\u043e\u043c\u0438\u0440'
# Output: '–â—É–±–æ–º–∏—Ä'
'\u4e16\u754c\u60a8\u597d!'
# Output: '‰∏ñÁïåÊÇ®Â•Ω!'
```

Introduction to Computing Using Python

Unicode

- In Unicode, every character is represented by an integer code point.
- The code point is not necessarily the actual byte representation of the character; it is just the identifier for the particular character

- The code point for letter a is the integer with hexadecimal value 0x0061
  - Unicode conveniently uses a code point for ASCII characters that is equal to their ASCII code

- With Unicode, we can write strings in
  - english

- With Unicode, we can write strings in
  - english
  - cyrillic

- escape sequence \u indicates
- start of Unicode code point

---

<a id="slide-16"></a>

## Slide 16

```python
s1 = '\u0021'
s1
# Output: '!'
s2 = '\u0409'
s2
# Output: '–â'
s1 < s2
# Output: True
```

Introduction to Computing Using Python

String comparison, revisited

Unicode code points, being integers, give a natural ordering to all the characters representable in Unicode

Unicode was designed so that, for any pair of characters from the same alphabet, the one that is earlier in the alphabet will have a smaller Unicode code point.

---

<a id="slide-17"></a>

## Slide 17

Introduction to Computing Using Python

Unicode Transformation Format (UTF)

- A Unicode string is a sequence of code points that are numbers from 0 to 0x10FFFF.
- Unlike ASCII codes, Unicode code points are not what is stored in memory; the rule for translating a Unicode character or code point into a sequence of bytes is called an encoding.
- There are several Unicode encodings: UTF-8, UTF-16, and UTF-32. UTF stands for Unicode Transformation Format.
  - UTF-8 has become the preferred encoding for e-mail and web pages
  - The default encoding when you write Python 3 programs is UTF-8.
  - In UTF-8, every ASCII character has an encoding that is exactly the 8-bit ASCII encoding.

---

<a id="slide-18"></a>

## Slide 18

```python
content
# Output: b'This is a text document\nposted on the\nWWW.\n'
type(content)
# Output: <class 'bytes'>
```

```python
content
# Output: b'This is a text document\nposted on the\nWWW.\n'
type(content)
# Output: <class 'bytes'>
s = content.decode('utf-8')
type(s)
# Output: <class 'str'>
s
# Output: 'This is a text document\nposted on the\nWWW.\n'
```

```python
content
# Output: b'This is a text document\nposted on the\nWWW.\n'
type(content)
# Output: <class 'bytes'>
s = content.decode('utf-8')
type(s)
# Output: <class 'str'>
s
# Output: 'This is a text document\nposted on the\nWWW.\n'
s = content.decode()
s
# Output: 'This is a text document\nposted on the\nWWW.\n'
```

Introduction to Computing Using Python

Assigning an encoding to ‚Äúraw bytes‚Äù

- When a file is downloaded from the web, it does not have an encoding
  - the file could be a picture or an executable program, i.e. not a text file
  - the downloaded file content is a sequence of bytes, i.e. of type bytes

- The bytes method decode() takes an encoding description as input and returns a string that is obtained by applying the encoding to the sequence of bytes
  - the default is UTF-8

- The bytes method decode() takes an encoding description as input and returns a string that is obtained by applying the encoding to the sequence of bytes

---

<a id="slide-19"></a>

## Slide 19

Introduction to Computing Using Python

Randomness

- Some apps need numbers generated ‚Äúat random‚Äù (i.e., from some probability distribution):
  - scientific computing
  - financial simulations
  - cryptography
  - computer games

Truly random numbers are hard to generate

- Most often, a pseudorandom number generator is used
  - numbers only appear to be random
  - they are really generated using a deterministic process

The Python standard library module random provides a pseudo random number generator as well useful sampling functions

---

<a id="slide-20"></a>

## Slide 20

```python
import random
random.randrange(1, 7)
# Output: 2
```

```python
import random
random.randrange(1, 7)
# Output: 2
random.randrange(1, 7)
# Output: 1
```

```python
import random
random.randrange(1, 7)
# Output: 2
random.randrange(1, 7)
# Output: 1
random.randrange(1, 7)
# Output: 4
```

```python
import random
random.randrange(1, 7)
# Output: 2
random.randrange(1, 7)
# Output: 1
random.randrange(1, 7)
# Output: 4
random.randrange(1, 7)
# Output: 2
```

```python
import random
random.randrange(1, 7)
# Output: 2
random.randrange(1, 7)
# Output: 1
random.randrange(1, 7)
# Output: 4
random.randrange(1, 7)
# Output: 2
random.uniform(0, 1)
# Output: 0.19831634437485302
random.uniform(0, 1)
# Output: 0.027077323233875905
random.uniform(0, 1)
# Output: 0.8208477833085261
```

Introduction to Computing Using Python

Standard Library module random

Function randrange() returns a ‚Äúrandom‚Äù integer number from a given range

range is from 1 up to (but not including) 7

Function uniform() returns a ‚Äúrandom‚Äù float number from a given range

Example usage: simulate the throws of a die

---

<a id="slide-21"></a>

## Slide 21

```python
names = ['Ann', 'Bob', 'Cal', 'Dee', 'Eve', 'Flo', 'Hal', 'Ike']
import random
random.shuffle(names)
names
# Output: ['Hal', 'Dee', 'Bob', 'Ike', 'Cal', 'Eve', 'Flo', 'Ann']
```

```python
names = ['Ann', 'Bob', 'Cal', 'Dee', 'Eve', 'Flo', 'Hal', 'Ike']
import random
random.shuffle(names)
names
# Output: ['Hal', 'Dee', 'Bob', 'Ike', 'Cal', 'Eve', 'Flo', 'Ann']
random.choice(names)
# Output: 'Bob'
random.choice(names)
# Output: 'Ann'
random.choice(names)
# Output: 'Cal'
random.choice(names)
# Output: 'Cal'
```

```python
names = ['Ann', 'Bob', 'Cal', 'Dee', 'Eve', 'Flo', 'Hal', 'Ike']
import random
random.shuffle(names)
names
# Output: ['Hal', 'Dee', 'Bob', 'Ike', 'Cal', 'Eve', 'Flo', 'Ann']
random.choice(names)
# Output: 'Bob'
random.choice(names)
# Output: 'Ann'
random.choice(names)
# Output: 'Cal'
random.choice(names)
# Output: 'Cal'
random.sample(names, 3)
# Output: ['Ike', 'Hal', 'Bob']
random.sample(names, 3)
# Output: ['Flo', 'Bob', 'Ike']
random.sample(names, 3)
# Output: ['Ike', 'Ann', 'Hal']
```

Introduction to Computing Using Python

Standard Library module random

Defined in module random are functions shuffle(), choice(), sample(), ‚Ä¶

---

<a id="slide-22"></a>

## Slide 22

```python
game(2, 3)
# Output: Enter next position (format: x y): 0 2
```

- No bomb at position 0 2
- Enter next position (format: x y): 1 1
- No bomb at position 1 1
- Enter next position (format: x y): 0 1
- You found the bomb!

- import random
- def game(rows, cols):
- 'a simple bomb finding game'
- # generate a list of size rows*cols that contains
- # empty strings except for 1 'B' at some random index
- table = (rows*cols-1)*[''] + ['B']
- random.shuffle(table)
- while True:
- pos = input('Enter next position (format: x y): ')
- position = pos.split()
- # position (x, y) corresponds to index x*cols + y of table
- if table[int(position[0])*cols + int(position[1])] == 'B':
- print('You found the bomb!')
- break
- else:
- print('No bomb at position', pos)

Introduction to Computing Using Python

Exercise

- Develop function game() that:
  - takes integers r and c as input,
  - generates a field of r rows and c columns with a bomb at a randomly chosen row and column,
  - and then asks users to find the bomb